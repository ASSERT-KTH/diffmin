# diffmin

[![GHA tests Workflow Status](https://github.com/SpoonLabs/diffmin/actions/workflows/maven.yml/badge.svg)](https://github.com/SpoonLabs/diffmin/actions/workflows/maven.yml)
[![Code Coverage](https://codecov.io/gh/SpoonLabs/diffmin/branch/main/graph/badge.svg)](https://codecov.io/gh/SpoonLabs/diffmin)

This application patches a file using the diff generated by
[gumtree-spoon-ast-diff](https://github.com/SpoonLabs/gumtree-spoon-ast-diff).
It is similar to the
[patch utility](https://man7.org/linux/man-pages/man1/patch.1.html) in Linux
except diffmin also aims to minimise the resultant diff between the two files
by keeping only the AST changes.

## Getting Started

This package is not published yet but one can build the project from source.

### Prerequisites

1. Java 11+ JDK
2. Maven
3. Git

### Build locally

1. Clone the repository.
   ```shell
   git clone https://github.com/SpoonLabs/diffmin.git
   ```

2. Build a single jar file for this project and its dependencies.
   ```sh
   mvn compile assembly:single
   ```

### Usage

Once the jar is built, the main method can be invoked using just one command.

```sh
java -jar target/diffmin-1.0-SNAPSHOT-jar-with-dependencies.jar <prev.java> <new.java>
```

## Running the tests

Tests are under `src/test`. They can be run by executing the following command.

```shell
mvn test
```

## Contributing

### License

Licensed under the MIT License. See the [license](LICENSE) file for more
details.

### Issues

Issues such as bug reports, feature requests, enhancements, or questions can be
reported at the [issues tab](https://github.com/SpoonLabs/diffmin/issues) of
this repository. We don't follow an exact template but please explain your query
as much as possible.

### Pull requests

Diffmin is currently in its rudimentary stages, so we are not expecting a pull
request from outside contributors as there are not many features to work on as
of now. We will update the instructions when we feel that we have enough issues
to tackle. In that case, we would encourage contributions from anyone.

Internally, we do follow some guidelines before submitting a pull request.

1. PR title aptly describes the changes proposed.
2. PR is coupled with a description, so it makes the process of reviewing easier.
3. PR addresses a single thing, e.g. a single feature or a bug.

## Authors

The list of authors and contributors can be found
[here](https://github.com/SpoonLabs/diffmin/graphs/contributors).
